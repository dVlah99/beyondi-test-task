<div
  class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center"
>
  <form
    (ngSubmit)="submitForm()"
    #productForm="ngForm"
    class="relative bg-white p-8 rounded-lg shadow-md w-full max-w-lg"
  >
    <h2 class="text-2xl font-bold mb-6 text-center">Edit Product</h2>

    <!-- Left Arrow Button -->
    <button
      type="button"
      class="absolute top-2 left-2 p-2 text-gray-500 hover:text-gray-700"
      (click)="toggleEditMode()"
    >
      <span class="pi pi-arrow-left"></span>
    </button>

    <!-- Close Button -->
    <button
      type="button"
      class="absolute top-2 right-2 p-2 text-gray-500 hover:text-gray-700"
      (click)="closeDialog()"
    >
      <span class="pi pi-times"></span>
    </button>

    <div class="mb-6">
      <label
        for="productName"
        class="block text-gray-700 text-sm font-bold mb-2"
        >Product Name:</label
      >
      <input
        type="text"
        id="productName"
        name="productName"
        [(ngModel)]="productInfo.name"
        required
        maxlength="32"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        #productNameInput="ngModel"
      />
      <div
        *ngIf="productNameInput.invalid && productNameInput.touched"
        class="text-red-500 text-sm mt-1"
      >
        Product name is required and must be less than 32 characters.
      </div>
    </div>

    <div class="mb-6">
      <label for="price" class="block text-gray-700 text-sm font-bold mb-2"
        >Price:</label
      >
      <input
        type="number"
        id="price"
        name="price"
        appTwoDecimalPlaces
        [(ngModel)]="productInfo.price"
        required
        min="0"
        step="0.01"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        #priceInput="ngModel"
      />
      <div
        *ngIf="priceInput.invalid && priceInput.touched"
        class="text-red-500 text-sm mt-1"
      >
        Price is required and must be a positive number with up to 2 decimal
        places.
      </div>
    </div>

    <div class="mb-6">
      <label
        for="description"
        class="block text-gray-700 text-sm font-bold mb-2"
        >Description:</label
      >
      <textarea
        id="description"
        name="description"
        [(ngModel)]="productInfo.description"
        required
        maxlength="160"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32 resize-none"
        #descriptionInput="ngModel"
      ></textarea>
      <div
        *ngIf="descriptionInput.invalid && descriptionInput.touched"
        class="text-red-500 text-sm mt-1"
      >
        Description is required and must be less than 160 characters.
      </div>
    </div>

    <button
      class="bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50 disabled:cursor-not-allowed"
      type="submit"
      [disabled]="productForm.invalid"
    >
      Edit Product
    </button>

    <button
      class="bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50 disabled:cursor-not-allowed mt-3"
      type="button"
      (click)="restoreProduct()"
    >
      Restore
    </button>
  </form>
</div>
