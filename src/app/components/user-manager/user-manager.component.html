<div class="relative">
  <div class="card">
    <p-table [value]="users" [tableStyle]="{ 'min-width': '60rem' }">
      <ng-template pTemplate="caption">
        <button
          type="button"
          class="absolute top-2 left-2 p-2 text-gray-500 hover:text-gray-700 z-10"
          (click)="goBack()"
        >
          <i class="fas fa-arrow-left"></i> Go back
        </button>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Is admin</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr class="hover:bg-yellow-500">
          <td>{{ user.displayName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <input
              type="checkbox"
              [checked]="user.role === 'ADMIN'"
              (change)="onRoleChange(user)"
            />
          </td>
          <td>
            <button (click)="deleteUser(user.uid)">
              <i class="fas fa-trash"></i>
            </button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="summary"> </ng-template>
    </p-table>
    <!-- Save Changes Button -->
    <button
      class="bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded mt-3"
      [disabled]="!changesDetected"
      (click)="saveChanges()"
    >
      Save Changes
    </button>
  </div>
</div>
